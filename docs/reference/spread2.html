<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Spread without frustration — spread2 • tidyext!</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content="Spread without frustration — spread2" />

<meta property="og:description" content="Spread without frustration" />

<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyext!</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction to tidyext</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/m-clark">
    <span class="fa fa-github-alt"></span>
     
  </a>
</li>
<li>
  <a href="https://m-clark.github.io">
    <span class="fa fa-empire"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Spread without frustration</h1>
    <small class="dont-index">Source: <a href='https://github.com/m-clark/tidyext/blob/master/R/spread2.R'><code>R/spread2.R</code></a></small>
    <div class="hidden name"><code>spread2.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Spread without frustration</p>
    
    </div>

    <pre class="usage"><span class='fu'>spread2</span>(<span class='no'>data</span>, <span class='no'>key</span>, <span class='no'>value</span>, <span class='kw'>compact</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>fill</span> <span class='kw'>=</span> <span class='fl'>NA</span>, <span class='kw'>convert</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>drop</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>key</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>compact</th>
      <td><p>When you don't have a unique identifier there is more than one
way the output could be produced. Actually two. One is rather messy but may
in fact be what is desired. The other is more 'compact'. See the examples.</p></td>
    </tr>
    <tr>
      <th>fill</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>convert</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    <tr>
      <th>sep</th>
      <td><p>See <code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code>.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data frame with 'wide' format.</p>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Anyone that uses spread more than once has likely come across the
  duplicate identifiers problem.  This function works just like select (it's
  mostly just a wrapper) except that it works when you don't have unique
  identifiers, which is actually quite often.  The only additional
  functionality regards the <code>compact</code> argument. See the examples for
  what this means.</p>
<p>For more, see
  <a href='https://stackoverflow.com/questions/45898614/how-to-spread-columns-with-duplicate-identifiers?rq=1'>StackOverflow</a>
   for example, or the numerous repeated issue brought up at the
  <a href='https://github.com/tidyverse/tidyr/issues'>tidyr GitHub issues
  page</a>. Search for 'spread duplicate' for all, not just open issues (direct link couldn't be handled
  by R documentation).</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></code></p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>tidyext</span>); <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/library'>library</a></span>(<span class='no'>tidyr</span>)

<span class='co'># initial example from spread</span>
<span class='no'>stocks_init</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
<span class='kw'>time</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/as.Date'>as.Date</a></span>(<span class='st'>'2009-01-01'</span>) + <span class='fl'>0</span>:<span class='fl'>9</span>,
<span class='kw'>X</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>1</span>),
<span class='kw'>Y</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>2</span>),
<span class='kw'>Z</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>4</span>)
)

<span class='co'># a very common situation</span>
<span class='no'>stocks</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/data.frame'>data.frame</a></span>(
  <span class='kw'>X</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>1</span>),
  <span class='kw'>Y</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>2</span>),
  <span class='kw'>Z</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/stats/topics/Normal'>rnorm</a></span>(<span class='fl'>10</span>, <span class='fl'>0</span>, <span class='fl'>4</span>)
)


<span class='no'>stocksm_init</span> <span class='kw'>&lt;-</span> <span class='no'>stocks_init</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/gather.html'>gather</a></span>(<span class='no'>stock</span>, <span class='no'>price</span>, -<span class='no'>time</span>)
<span class='no'>stocksm_init</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/spread.html'>spread</a></span>(<span class='no'>stock</span>, <span class='no'>price</span>)    <span class='co'># works fine</span></div><div class='output co'>#&gt;          time            X           Y           Z
#&gt; 1  2009-01-01 -0.098550690  3.68063348 -3.84628597
#&gt; 2  2009-01-02  0.034766060 -1.40963933  4.06996421
#&gt; 3  2009-01-03  0.386127022  0.01702062 -5.98421497
#&gt; 4  2009-01-04  0.020831228  4.06837977 -4.73927492
#&gt; 5  2009-01-05  0.007586777 -2.68337214  2.52093749
#&gt; 6  2009-01-06  0.930844030  2.31795836  8.40501006
#&gt; 7  2009-01-07 -0.684749941 -0.40641792 -2.45494724
#&gt; 8  2009-01-08  0.337401513 -0.75605711 -6.53855309
#&gt; 9  2009-01-09 -0.412137704  3.47222209 -0.04176447
#&gt; 10 2009-01-10  0.934261130 -1.69049563 -2.62602456</div><div class='input'><span class='no'>stocksm</span> <span class='kw'>&lt;-</span> <span class='no'>stocks</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='https://tidyr.tidyverse.org/reference/gather.html'>gather</a></span>(<span class='no'>stock</span>, <span class='no'>price</span>)
<span class='co'># stocksm %&gt;% spread(stock, price)       # annoying</span>
<span class='no'>stocksm</span> <span class='kw'>%&gt;%</span> <span class='fu'>spread2</span>(<span class='no'>stock</span>, <span class='no'>price</span>)        <span class='co'># works fine</span></div><div class='output co'>#&gt;             X          Y          Z
#&gt; 1  -0.6695334  1.4819334  2.2648065
#&gt; 2  -0.4785890 -1.9948862  4.6088478
#&gt; 3   1.3194563 -5.8779551 -3.0247895
#&gt; 4   0.6365628  1.4380313 -1.9570333
#&gt; 5   0.5143278 -1.3960101 -4.6642093
#&gt; 6  -1.7513751 -3.7882517 -1.9186758
#&gt; 7   0.8935975  0.1525985  0.4613929
#&gt; 8   0.2230384  1.7506170 -7.0721936
#&gt; 9   0.5808166  0.9076548 -5.6305557
#&gt; 10 -0.1778214 -1.7014338  2.8367138</div><div class='input'><span class='no'>stocksm</span> <span class='kw'>%&gt;%</span> <span class='fu'>spread2</span>(<span class='no'>stock</span>, <span class='no'>price</span>, <span class='kw'>compact</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;             X          Y          Z
#&gt; 1  -0.6695334         NA         NA
#&gt; 2  -0.4785890         NA         NA
#&gt; 3   1.3194563         NA         NA
#&gt; 4   0.6365628         NA         NA
#&gt; 5   0.5143278         NA         NA
#&gt; 6  -1.7513751         NA         NA
#&gt; 7   0.8935975         NA         NA
#&gt; 8   0.2230384         NA         NA
#&gt; 9   0.5808166         NA         NA
#&gt; 10 -0.1778214         NA         NA
#&gt; 11         NA  1.4819334         NA
#&gt; 12         NA -1.9948862         NA
#&gt; 13         NA -5.8779551         NA
#&gt; 14         NA  1.4380313         NA
#&gt; 15         NA -1.3960101         NA
#&gt; 16         NA -3.7882517         NA
#&gt; 17         NA  0.1525985         NA
#&gt; 18         NA  1.7506170         NA
#&gt; 19         NA  0.9076548         NA
#&gt; 20         NA -1.7014338         NA
#&gt; 21         NA         NA  2.2648065
#&gt; 22         NA         NA  4.6088478
#&gt; 23         NA         NA -3.0247895
#&gt; 24         NA         NA -1.9570333
#&gt; 25         NA         NA -4.6642093
#&gt; 26         NA         NA -1.9186758
#&gt; 27         NA         NA  0.4613929
#&gt; 28         NA         NA -7.0721936
#&gt; 29         NA         NA -5.6305557
#&gt; 30         NA         NA  2.8367138</div><div class='input'>
<span class='co'># works with NA</span>
<span class='no'>stocksm</span>$<span class='no'>price</span>[<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/sample'>sample</a></span>(<span class='fl'>1</span>:<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/nrow'>nrow</a></span>(<span class='no'>stocksm</span>), <span class='fl'>5</span>)] <span class='kw'>=</span> <span class='fl'>NA</span>
<span class='no'>stocksm</span> <span class='kw'>%&gt;%</span> <span class='fu'>spread2</span>(<span class='no'>stock</span>, <span class='no'>price</span>)</div><div class='output co'>#&gt;             X          Y         Z
#&gt; 1  -0.6695334  1.4819334  2.264806
#&gt; 2  -0.4785890 -1.9948862  4.608848
#&gt; 3   1.3194563 -5.8779551 -3.024790
#&gt; 4   0.6365628  1.4380313        NA
#&gt; 5   0.5143278 -1.3960101 -4.664209
#&gt; 6  -1.7513751         NA -1.918676
#&gt; 7   0.8935975         NA        NA
#&gt; 8   0.2230384         NA -7.072194
#&gt; 9   0.5808166  0.9076548 -5.630556
#&gt; 10 -0.1778214 -1.7014338  2.836714</div><div class='input'><span class='no'>stocksm</span> <span class='kw'>%&gt;%</span> <span class='fu'>spread2</span>(<span class='no'>stock</span>, <span class='no'>price</span>, <span class='kw'>compact</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt;             X          Y         Z
#&gt; 1  -0.6695334         NA        NA
#&gt; 2  -0.4785890         NA        NA
#&gt; 3   1.3194563         NA        NA
#&gt; 4   0.6365628         NA        NA
#&gt; 5   0.5143278         NA        NA
#&gt; 6  -1.7513751         NA        NA
#&gt; 7   0.8935975         NA        NA
#&gt; 8   0.2230384         NA        NA
#&gt; 9   0.5808166         NA        NA
#&gt; 10 -0.1778214         NA        NA
#&gt; 11         NA  1.4819334        NA
#&gt; 12         NA -1.9948862        NA
#&gt; 13         NA -5.8779551        NA
#&gt; 14         NA  1.4380313        NA
#&gt; 15         NA -1.3960101        NA
#&gt; 16         NA         NA        NA
#&gt; 17         NA         NA        NA
#&gt; 18         NA         NA        NA
#&gt; 19         NA  0.9076548        NA
#&gt; 20         NA -1.7014338        NA
#&gt; 21         NA         NA  2.264806
#&gt; 22         NA         NA  4.608848
#&gt; 23         NA         NA -3.024790
#&gt; 24         NA         NA        NA
#&gt; 25         NA         NA -4.664209
#&gt; 26         NA         NA -1.918676
#&gt; 27         NA         NA        NA
#&gt; 28         NA         NA -7.072194
#&gt; 29         NA         NA -5.630556
#&gt; 30         NA         NA  2.836714</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#details">Details</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://m-clark.github.io'>Michael Clark <img src="man/figures/lh_hex.png" height="24" /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

