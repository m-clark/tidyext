<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>One-hot encoding — onehot • tidyext!</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="One-hot encoding — onehot" />
<meta property="og:description" content="Add indicators for all desired variables in a data set." />
<meta property="og:image" content="/logo.png" />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tidyext!</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/introduction.html">Introduction to tidyext</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/m-clark">
    <span class="fa fa-github-alt"></span>
     
  </a>
</li>
<li>
  <a href="https://m-clark.github.io">
    <span class="fa fa-empire"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>One-hot encoding</h1>
    <small class="dont-index">Source: <a href='https://github.com/m-clark/tidyext/blob/master/R/onehot.R'><code>R/onehot.R</code></a></small>
    <div class="hidden name"><code>onehot.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Add indicators for all desired variables in a data set.</p>
    </div>

    <pre class="usage"><span class='fu'>onehot</span>(
  <span class='no'>data</span>,
  <span class='kw'>var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>nas</span> <span class='kw'>=</span> <span class='st'>"na.pass"</span>,
  <span class='kw'>sparse</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>keep.original</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data frame</p></td>
    </tr>
    <tr>
      <th>var</th>
      <td><p>A character string/vector of names to be encoded. If NULL, the
default, all character and factor variables will be encoded.</p></td>
    </tr>
    <tr>
      <th>nas</th>
      <td><p>What to do with missing values. For na.omit and na.exclude, any
observations with missing data will be removed from the result. With
na.pass, the default, the result will retain the missing values. Otherwise,
with na.fail, an error will be thrown.</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>Logical (default FALSE). If true, will return only the encoded
variables as a sparse matrix.</p></td>
    </tr>
    <tr>
      <th>keep.original</th>
      <td><p>Logical (default FALSE). Keep the original variables?
Not an option if sparse is TRUE.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A data.frame with the encoded variables, or a sparse matrix of only
  the encoded variables.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function is a simple one-hot encoder, with a couple options
  that are commonly desired.  Takes the applicable variables and creates a
  binary indicator column for each unique value. If supplied
  non-factor/character variables, it will coerce them to characters and
  proceed accordingly. Will handle missingness, return a sparse matrix, or
  keep the original variable(s) as desired.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://rdrr.io/r/stats/model.matrix.html'>model.matrix</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/library.html'>library</a></span>(<span class='no'>tidyext</span>)
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>onehot</span>(<span class='no'>iris</span>, <span class='kw'>keep.original</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; 'data.frame':	150 obs. of  8 variables:
#&gt;  $ Sepal.Length      : num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
#&gt;  $ Sepal.Width       : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
#&gt;  $ Petal.Length      : num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
#&gt;  $ Petal.Width       : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
#&gt;  $ Species           : Factor w/ 3 levels "setosa","versicolor",..: 1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ Species_setosa    : num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ Species_versicolor: num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Species_virginica : num  0 0 0 0 0 0 0 0 0 0 ...</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>onehot</span>(<span class='no'>iris</span>, <span class='kw'>sparse</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt; Formal class 'dgCMatrix' [package "Matrix"] with 6 slots
#&gt;   ..@ i       : int [1:150] 0 1 2 3 4 5 6 7 8 9 ...
#&gt;   ..@ p       : int [1:4] 0 50 100 150
#&gt;   ..@ Dim     : int [1:2] 150 3
#&gt;   ..@ Dimnames:List of 2
#&gt;   .. ..$ : chr [1:150] "1" "2" "3" "4" ...
#&gt;   .. ..$ : chr [1:3] "Species_xsetosa" "Species_xversicolor" "Species_xvirginica"
#&gt;   ..@ x       : num [1:150] 1 1 1 1 1 1 1 1 1 1 ...
#&gt;   ..@ factors : list()</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>onehot</span>(<span class='no'>mtcars</span>, <span class='kw'>var</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>'vs'</span>,<span class='st'>'cyl'</span>)))</div><div class='output co'>#&gt; <span class='message'></span>
#&gt; <span class='message'>  You have supplied numeric variables.</span>
#&gt; <span class='message'>  Attempts were made to keep the</span>
#&gt; <span class='message'>  column names consistent, but you'll want to check.</span></div><div class='output co'>#&gt; 'data.frame':	32 obs. of  14 variables:
#&gt;  $ mpg  : num  21 21 22.8 21.4 18.7 18.1 14.3 24.4 22.8 19.2 ...
#&gt;  $ disp : num  160 160 108 258 360 ...
#&gt;  $ hp   : num  110 110 93 110 175 105 245 62 95 123 ...
#&gt;  $ drat : num  3.9 3.9 3.85 3.08 3.15 2.76 3.21 3.69 3.92 3.92 ...
#&gt;  $ wt   : num  2.62 2.88 2.32 3.21 3.44 ...
#&gt;  $ qsec : num  16.5 17 18.6 19.4 17 ...
#&gt;  $ am   : num  1 1 1 0 0 0 0 0 0 0 ...
#&gt;  $ gear : num  4 4 4 3 3 3 3 4 4 4 ...
#&gt;  $ carb : num  4 4 1 1 2 1 4 2 2 4 ...
#&gt;  $ cyl_4: num  0 0 1 0 0 0 0 1 1 0 ...
#&gt;  $ cyl_6: num  1 1 0 1 0 1 0 0 0 1 ...
#&gt;  $ cyl_8: num  0 0 0 0 1 0 1 0 0 0 ...
#&gt;  $ vs_0 : num  1 1 0 0 1 0 1 0 0 0 ...
#&gt;  $ vs_1 : num  0 0 1 1 0 1 0 1 1 1 ...</div><div class='input'>
<span class='no'>iris2</span> <span class='kw'>=</span> <span class='no'>iris</span>
<span class='no'>iris2</span>[<span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span>(<span class='fl'>1</span>:<span class='fl'>150</span>, <span class='fl'>25</span>),] <span class='kw'>=</span> <span class='fl'>NA</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>onehot</span>(<span class='no'>iris2</span>))</div><div class='output co'>#&gt; 'data.frame':	150 obs. of  7 variables:
#&gt;  $ Sepal.Length      : num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
#&gt;  $ Sepal.Width       : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
#&gt;  $ Petal.Length      : num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
#&gt;  $ Petal.Width       : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
#&gt;  $ Species_setosa    : num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ Species_versicolor: num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Species_virginica : num  0 0 0 0 0 0 0 0 0 0 ...</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span>(<span class='fu'>onehot</span>(<span class='no'>iris2</span>, <span class='kw'>nas</span> <span class='kw'>=</span> <span class='st'>'na.omit'</span>))</div><div class='output co'>#&gt; 'data.frame':	125 obs. of  7 variables:
#&gt;  $ Sepal.Length      : num  5.1 4.9 4.7 4.6 5 5.4 4.6 5 4.4 4.9 ...
#&gt;  $ Sepal.Width       : num  3.5 3 3.2 3.1 3.6 3.9 3.4 3.4 2.9 3.1 ...
#&gt;  $ Petal.Length      : num  1.4 1.4 1.3 1.5 1.4 1.7 1.4 1.5 1.4 1.5 ...
#&gt;  $ Petal.Width       : num  0.2 0.2 0.2 0.2 0.2 0.4 0.3 0.2 0.2 0.1 ...
#&gt;  $ Species_setosa    : num  1 1 1 1 1 1 1 1 1 1 ...
#&gt;  $ Species_versicolor: num  0 0 0 0 0 0 0 0 0 0 ...
#&gt;  $ Species_virginica : num  0 0 0 0 0 0 0 0 0 0 ...</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://m-clark.github.io'>Michael Clark <img src="man/figures/lh_hex.png" height="24" /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


